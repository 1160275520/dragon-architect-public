<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <link rel="shortcut icon" type="image/png" href="media/favicon.png">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Open+Sans:400,700,400italic,700italic">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,400italic,700italic">
    <link href="https://fonts.googleapis.com/css2?family=Gravitas+One&family=Roboto+Slab&display=swap" rel="stylesheet">
    <!-- we need to put css in a subdir so font-awesome font urls work -->
    <!-- build:css code/style.css -->
    <link rel="stylesheet" type="text/css" href="lib/normalize/normalize.css">
    <link rel="stylesheet" href="lib/font-awesome/css/font-awesome.css">
    <link rel="stylesheet" type="text/css" href="css/bootstrap-slider.css">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link rel="stylesheet" type="text/css" href="css/instructions.css">
    <!-- endbuild -->
    <!-- build:js code/app.js -->
    <script src="node_modules/q/q.js"></script>
    <script src="node_modules/jquery/dist/jquery.js"></script>
    <!--<script src="node_modules/jquery-ui/jquery-ui.js"></script>-->
    <script src="node_modules/lodash/lodash.js"></script>
    <script src="node_modules/d3/d3.js"></script>
    <script src="node_modules/dagre/dist/dagre.js"></script>
    <script src="node_modules/dagre-d3/dist/dagre-d3.js"></script>
    <script src="node_modules/purl/dist/purl.js"></script>
    <script src="lib/papika.js"></script>
    <script src="node_modules/bootstrap-slider/dist/bootstrap-slider.js"></script>
    <script src="node_modules/whatwg-fetch/fetch.js"></script>
    <script src="node_modules/three/build/three.js"></script>
    <script src="node_modules/three/build/three.min.js"></script>

    <script src="lib/PointerLockControls.js"></script>
    <script src="node_modules/stats-js/build/stats.min.js"></script>
    <script src="node_modules/urijs/src/URI.js"></script>
    <script src="js/config.js"></script>
    <script src="lib/jeditable/jquery.jeditable.js"></script>
    <script src="js/ui.js"></script>
    <!--<script src="js/db.js"></script>-->
    <script src="js/worldstate.js"></script>
    <script src="js/display.js"></script>
    <script src="js/simulator.js"></script>
    <script src="js/puzzle.js"></script>
    <script src="js/app.js"></script>
    <script src="js/logging.js"></script>
    <script src="js/blockly/customBlocks.js"></script>
    <script src="js/blockly/ruthefjord.js"></script>
    <script src="js/blockly/translate.js"></script>
    <!-- endbuild -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-74356712-1', 'auto');
      ga('send', 'pageview');

    </script>
    <title>Dragon Architect</title>
  </head>
  <body>
<!--    <header id="header">-->
<!--      <h1>Dragon Architect</h1>-->
<!--&lt;!&ndash;      <div id="header-items">&ndash;&gt;-->
<!--&lt;!&ndash;        <div id="menu-btn">&ndash;&gt;-->
<!--&lt;!&ndash;          <div id="menu-icon">&ndash;&gt;-->
<!--&lt;!&ndash;            <div class="bar"></div>&ndash;&gt;-->
<!--&lt;!&ndash;            <div class="bar"></div>&ndash;&gt;-->
<!--&lt;!&ndash;            <div class="bar"></div>&ndash;&gt;-->
<!--&lt;!&ndash;          </div>&ndash;&gt;-->
<!--&lt;!&ndash;          <div id="menu-nav">&ndash;&gt;-->
<!--&lt;!&ndash;            <ul>&ndash;&gt;-->
<!--&lt;!&ndash;              <li><button id="btn-packs" class="sandboxModeUI">Learn more</button></li>&ndash;&gt;-->
<!--&lt;!&ndash;              <li><button id="btn-gallery" class="galleryAccess">Gallery</button></li>&ndash;&gt;-->
<!--&lt;!&ndash;              <li><button id="btn-share" class="galleryAccess">Share!</button></li>&ndash;&gt;-->
<!--&lt;!&ndash;              <li><button id="btn-header-clear-sandbox" class="sandboxModeUI">Clear everything</button></li>&ndash;&gt;-->
<!--&lt;!&ndash;              <li><button id="btn-back-selector-puzzle" class="puzzleModeUI hideTutorial">Try a different puzzle</button></li>&ndash;&gt;-->
<!--&lt;!&ndash;              <li><button id="btn-back-selector-pack" class="puzzleModeUI puzzleSelector hideTutorial">Try a different pack</button></li>&ndash;&gt;-->
<!--&lt;!&ndash;              <li><button id="btn-back-sandbox" class="puzzleModeUI puzzleSelector packSelector gallerySelector viewerModeUI hideTutorial shareModeUI">Go back to sandbox</button></li>&ndash;&gt;-->
<!--&lt;!&ndash;              <li><button id="btn-back-gallery" class="viewerModeUI">Go back to gallery</button></li>&ndash;&gt;-->
<!--&lt;!&ndash;            </ul>&ndash;&gt;-->
<!--&lt;!&ndash;          </div>&ndash;&gt;-->
<!--&lt;!&ndash;        </div>&ndash;&gt;-->
<!--        &lt;!&ndash;<p class="sandboxModeUI">You are in the sandbox!</p>&ndash;&gt;-->
<!--        &lt;!&ndash; leave the div around, even when not in dev mode, because the button spacing relies on it existing &ndash;&gt;-->
<!--        <div>-->
<!--          &lt;!&ndash; @ifdef DEV &ndash;&gt;-->
<!--          <div id="dev-controls" style="display: flex; flex-direction: row; align-items: center">-->
            <select id="dev-select-pack">
              <option>- Jump to Pack -</option>
            </select>
            <button id="btn-header-sandbox">Sandbox</button>
            <button id="btn-devmode" onclick="devmode()">Dev Mode</button>
            <button id="btn-clear-save-data">Delete Save Data</button>
<!--          </div>-->
<!--          &lt;!&ndash; @endif &ndash;&gt;-->
<!--        </div>-->
<!--      </div>-->
<!--    </header>-->
    <div class="menu-bar">
      <div class="menu-bar_title">
        Dragon Architect
      </div>
      <ul class="menu-bar_list">
        <div class="menu-bar_item current">Home</div>
        <div class="menu-bar_item">Puzzles</div>
        <div class="menu-bar_item">Sandbox</div>
        <div class="menu-bar_item">Rules</div>
      </ul>
    </div>
    <div class="view-loading">
      <p id="msg-loading">Loading...</p>
      <p id="msg-not-loading">Something is going wrong with initializing the game! This game is still in development, so it is likely there is a bug.</p>
    </div>
    <div id="player-consent" class="intro-msg" data-tosid="1">
      <h2>Dragon Architect is a research project, and we use information about how people play the game to do our research. This is a consent form explaining the data we collect and how it might be used.</h2>
      <p style="background: #fff;">By playing this game you acknowledge that:</p>
      <ul style="background: #fff;">
        <li><b>We are recording logs of player decisions.</b> As you play this game, you are participating in a research study, and it is keeping a record of your decisions and pathways through the game so that the game's creators, researchers at the University of Washington*, can improve the game for future players, as well as see whether our games improve our abilities with in-game tasks over time. Your play log will be added to a dataset that shows up trends in player behavior. This data will be kept for 7 years. This logging is no different than the standard practice in the game industry aimed at improving player's experience.<br></li>

        <li><b>For some games, we ask a set of survey questions about your perceptions of math and intelligence, and for basic demographic information: Age, Gender, and Education Level.</b><br></li>

        <li><b>The data will be shared with our collaborators at DARPA and ONR,</b> who are working with us on this project.<br></li>

        <li><b>This data may be published or shared with the academic community</b> for the purposes of presenting research findings and furthering the advancement of improving games and learning through games. The log data will be in the aggregate and collected form (not per individual), without the possibility for anyone to determine any personally identifiable information or even personally identifiable gameplay information.</li>
      </ul>

      <p style="background: #fff;">If you have any questions or concerns about the research or game, please feel free to contact us at cgs-feedback@cs.washington.edu or at (425) 312-3363. If you have questions about your rights as a research participant, you may contact a member of UW's Human Subjects Division at hsdinfo@uw.edu or at (206) 543-0098. Please note that emails are considered insecure and privacy is not guaranteed.</p><br>

      <input id="chkbox-consent" type="checkbox" checked>By leaving this box checked I give permission for my data to be used for research purposes.<br><br>
      <input id="btn-consent-continue" type="submit" value="Continue">
    </div>
    <div id="alpha-msg" class="intro-msg">
      <p><b>Dragon Architect</b> is in active development. You may find bugs. Please contact us with problems, questions, and comments at <a href="mailto:cgs-feedback@cs.washington.edu">cgs-feedback@cs.washington.edu</a>.</p>
      <button id="btn-alpha-continue" class="control-btn">Continue</button>
    </div>
    <div id="selector-puzzle" class="puzzleSelector">
      <div id="selector-puzzle-instructions" class="selector-instructions">X</div>
      <svg width=800 height=600>
        <g transform="translate(20,20)"/>
      </svg>
    </div>
    <div id="selector-pack" class="packSelector">
      <div id="selector-pack-instructions" class="selector-instructions">X</div>
      <p>Choose a pack:</p>
      <div class="packOptions"></div>
    </div>
    <div id="selector-gallery" class="gallerySelector">
      <div class="galleryItems"></div>
    </div>
    <div id="share-container" class="shareModeUI">
      <div id="share-title">
        <h2 id="share-edit-title">(click to add a title)</h2>
      </div>
      <div id="share-body">
        <img id="share-thumb"/>
      </div>
      <button id="btn-share-submit" class="control-btn">Share</button>
      <div id="share-message"></div>
    </div>
    <div id="main">
        <div id="main-view-code" class="codeEditor">
            <div id="code-area">
                <iframe id="blockly" src="frame.html"></iframe>
                <div id="game-control-bar-playback" class="puzzleModeUI sandboxModeUI">
                    <button id="btn-run" class="game-control-btn-playback">X</button>
                    <button id="btn-step" class="game-control-btn-playback">X</button>
                    <button id="btn-pause" class="game-control-btn-playback">X</button>
                    <button id="btn-done" class="submitUI game-control-btn-playback">I'm done</button>
                </div>
                <button id="btn-trash" class="puzzleModeUI sandboxModeUI game-control-btn-playback">Trash</button>
                <button id="btn-undo" class="puzzleModeUI sandboxModeUI game-control-btn-playback">Undo</button>
<!--                <button id="btn-delete" class="puzzleModeUI sandboxModeUI game-control-btn-playback">Delete All</button>-->

                <p id="statement-counter"></p>
            </div>
        </div>
      <div id="main-view-game">
        <div id="game-controls-bar-top" class="game-controls-bar puzzleModeUI sandboxModeUI">
          <div id="camera-controls" class="game-control">
<!--            <i class="control-element fa fa-lg fa-video-camera" title="Camera Controls"></i>-->
              <div class="game-control_category">
                  <div class="game-control_title">Zoom</div>
                  <div class="game-control_buttons">
                      <button class="control-icon-btn" id="camera-zoom-in" title="Zoom In Camera"><i class="fa fa-lg fa-search-plus"></i></button>
                      <button class="control-icon-btn" id="camera-zoom-out" title="Zoom Out Camera"><i class="fa fa-lg fa-search-minus"></i></button>
                  </div>
              </div>
              <div class="game-control_category">
                  <div class="game-control_title">Rotate</div>
                  <div class="game-control_buttons">
                      <button class="control-icon-btn camera-controls-rotate" id="camera-rotate-left" title="Rotate Camera Left"><i class="fa fa-lg fa-rotate-left"></i></button>
                      <button class="control-icon-btn camera-controls-rotate" id="camera-rotate-right" title="Rotate Camera Right"><i class="fa fa-lg fa-rotate-right"></i></button>
                  </div>
              </div>
              <div class="game-control_category">
                  <div class="game-control_title">Scroll</div>
                  <div class="game-control_buttons">
                      <button class="control-icon-btn camera-controls-tilt" id="camera-tilt-up" title="Tilt Camera Up"><i class="fa fa-lg fa-arrow-up"></i></button>
                      <button class="control-icon-btn camera-controls-tilt" id="camera-tilt-down" title="Tilt Camera Down"><i class="fa fa-lg fa-arrow-down"></i></button>
                  </div>
              </div>
          </div>
        <div class="game-control_category">
<!--          <div id="speed-control" class="game-control">-->
            <div class="game-control_title">Change Speed</div>
            <div id="speed-slider">
                <div class="speed-slider_left">Slow</div>
                <div class="speed-slider_right">Fast</div>
            </div>

        </div>
          <button id="btn-workshop" class="control-btn sandboxModeUI">Enter Workshop</button>
        </div>
        <div id="three-js"></div>
        <div id="game-controls-bar-bottom" class="game-controls-bar puzzleModeUI sandboxModeUI">
          <div id="time-controls" class="game-control tools-debug">
            <button id="btn-time-slider-back" class="control-btn btn-time-slider"><i class="fa fa-lg fa-arrow-circle-left"></i></button>
            <div id="time-slider"></div>
            <button id="btn-time-slider-forward" class="control-btn btn-time-slider"><i class="fa fa-lg fa-arrow-circle-right"></i></button>
          </div>
<!--          <div id="speed-controls" class="game-control tools-debug">-->
<!--&lt;!&ndash;            <div id="speed-slider"></div>&ndash;&gt;-->
<!--          </div>-->
<!--            <div class="goal-section">-->
<!--                <div class="goal-section_title">Goal: &nbsp; <div class="goal-section_summary">Build a Castle</div></div>-->
<!--                <div class="goal-section_text">You need a place to keep the princess. Let's build a castle!</div>-->
<!--&lt;!&ndash;                <div class="hint-section">&ndash;&gt;-->
<!--&lt;!&ndash;                    <btn id="btn-show-hint" class="hint-button"><i class="fa fa-lg fa-question"></i></btn>&ndash;&gt;-->
<!--&lt;!&ndash;                    <div class="hint-text">Hint</div>&ndash;&gt;-->
<!--&lt;!&ndash;                </div>&ndash;&gt;-->
<!--            </div>-->
            <div id="instructions-display" class="goal-section instructions">
                <div class="goal-section_title">Goal: </div><div id="instructions-goal"></div>
            </div>
<!--          <button id="btn-turbo" class="control-btn tools-no-debug">X</button>-->
          <!-- <p id="cube-counter" class="game-control">X</p> -->
        </div>
        <div id="viewer-instructions" style="width: 700px; margin: 0 auto; padding-top: 15px;" class="viewerModeUI">
          <div class="dialog-content">
            <div>
              <img class="dialog-icon" src="media/dragon_icon.png">
            </div>
            <span style="display: block; text-align: left; padding: 5px 0; font-size: 16pt; line-height: 20pt;">
              Press <span class="keyboard-key">Esc</span> to get the mouse back
              <br>Use the arrow keys or
              <div style="display: inline-flex; flex-direction: column; font-size: 10pt; vertical-align: middle; line-height: 14pt; align-items: center;">
                <div><span class="keyboard-key">W</span></div>
                <div style="flex-direction: row;"><span class="keyboard-key">A</span><span class="keyboard-key">S</span><span class="keyboard-key">D</span></div>
              </div> to move around
              <br>Use <span class="keyboard-key">shift</span> or <span class="keyboard-key">F</span> to go down and <span class="keyboard-key">space</span> or <span class="keyboard-key">R</span> to go up
            </span>
          </div>
        </div>
        <!--<div id="code-entry" class="devModeOnly">-->
          <!--<textarea id="code-entry-area" placeholder="devmode-only text-to-code-blocks input"></textarea>-->
          <!--<button id="btn-code-entry">Submit</button>-->
        <!--</div>-->


      .icon
          .lid
          .lidcap
          .bin

      </div>
<!--      <div id="dialog" class="dialogUI">-->
<!--        <div>-->
<!--          <img class="dialog-icon" src="media/dragon_icon_speech.png">-->
<!--        </div>-->
<!--      </div>-->

    </div>
    <img id="attention-arrow" src="media/arrow.png"/>
  </body>
</html>
