<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <link rel="shortcut icon" type="image/png" href="media/favicon.png">
    <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Open+Sans:400,700,400italic,700italic">
    <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,400italic,700italic">
    <!-- we need to put css in a subdir so font-awesome font urls work -->
    <!-- build:css code/style.css -->
    <link rel="stylesheet" type="text/css" href="lib/normalize/normalize.css">
    <link rel="stylesheet" href="lib/font-awesome/css/font-awesome.css">
    <link rel="stylesheet" type="text/css" href="css/slider.css">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link rel="stylesheet" type="text/css" href="css/instructions.css">
    <!-- endbuild -->
    <!-- build:js code/app.js -->
    <script src="lib/q/q.js"></script>
    <script src="lib/jquery/jquery.js"></script>
    <script src="lib/jquery/jquery-ui.js"></script>
    <script src="lib/lodash/lodash.js"></script>
    <script src="lib/d3/d3.js"></script>
    <script src="lib/dagre/dagre.js"></script>
    <script src="lib/dagre-d3/dagre-d3.js"></script>
    <script src="lib/purl/purl.js"></script>
    <script src="lib/unity/UnityObject2.js"></script>
    <script src="lib/cgs/md5.js"></script>
    <script src="lib/cgs/http_loader.js"></script>
    <script src="lib/cgs/cgs_common.js"></script>
    <script src="lib/fermata/fermata.js"></script>
    <script src="lib/editinplace/editinplace.js"></script>
    <script src="js/config.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/db.js"></script>
    <script src="js/unity.js"></script>
    <script src="js/app.js"></script>
    <script src="js/logging.js"></script>
    <script src="js/blockly/customBlocks.js"></script>
    <script src="js/blockly/common.js"></script>
    <script src="js/blockly/ruthefjord.js"></script>
    <!-- endbuild -->
  </head>
  <body>
    <header id="header">
      <h1>Ruthefjord!</h1>
      <div>
        <p class="sandboxModeUI">You are in sandbox mode!</p>
        <button id="btn-modules" class="sandboxModeUI">Learn more code</button>
        <!-- <button id="btn-gallery" class="sandboxModeUI">Gallery</button> -->
        <button id="btn-header-clear-sandbox" class="sandboxModeUI">Clear cubes and code</button>
        <!-- <button id="btn-share" class="sandboxModeUI">Share your code</button> -->
        <button id="btn-back-selector-puzzle" class="puzzleModeUI hideTutorial">Try a different puzzle</button>
        <button id="btn-back-selector-module" class="puzzleModeUI puzzleSelector hideTutorial">Try a different module</button>
        <button id="btn-back-sandbox" class="puzzleModeUI puzzleSelector moduleSelector gallerySelector viewerModeUI hideTutorial">Go back to sandbox mode</button>
        <button id="btn-back-gallery" class="viewerModeUI">Go back to gallery</button>
      </div>
      <!-- leave the div around, event when not in dev mode, because the button spacing relies on it existing -->
      <div>
        <!-- @ifdef DEV -->
        <select id="dev-select-module">
          <option>- Jump to Module -</option>
        </select>
        <button id="btn-header-sandbox">Sandbox</button>
        <button id="btn-devmode" onclick="devmode()">Dev Mode</button>
        <!-- @endif -->
      </div>
    </header>
    <div class="view-loading">
      <p>Loading...</p>
    </div>
    <div class="player-consent">
    <p>By playing this game you acknowledge that:</p>
    <ul>
      <li><b>We are recording logs of player decisions.</b> As you play this game, you are participating in a research study, and it is keeping a record of your decisions and pathways through the game so that the game's creators, researchers at the University of Washington*, can improve the game for future players, as well as see whether our games improve our abilities with in-game tasks over time. Your play log will be added to a dataset that shows up trends in player behavior. This data will be kept for 7 years. This logging is no different than the standard practice in the game industry aimed at improving player's experience.</li><br>

      <li><b>This data may be published or shared with the academic community</b> for the purposes of presenting research findings and furthering the advancement of improving games and learning through games. The log data will be in the aggregate and collected form (not per individual), without the possibility for anyone to determine any personally identifiable information or even personally identifiable gameplay information.</li>
    </ul>

    <p>If you have any questions or concerns about the research or game, please feel free to contact us at cgs-feedback@cs.washington.edu or at (425) 312-3363. If you have questions about your rights as a research participant, you may contact a member of UW's Human Subjects Division at hsdinfo@uw.edu or at (206) 543-0098. Please note that emails are considered insecure and privacy is not guaranteed.</p><br>

    <input id="chkbox-consent" type="checkbox" checked> By leaving this box checked I give permission for my data to be used for research purposes.<br><br>
    <input id="btn-consent-continue" type="submit" value="Continue">
    </div>
    <div id="selector-puzzle" class="puzzleSelector">
      <svg width=1400 height=350>
        <g transform="translate(20,20)"/>
      </svg>
    </div>
    <div id="selector-module" class="moduleSelector">
      <p>Choose a module:</p>
      <div class="moduleOptions"></div>
    </div>
    <div id="selector-gallery" class="gallerySelector">
      <div class="galleryItems"></div>
    </div>
    <div id="share-container" class="shareModeUI">
      <div id="share-title">
        <h2 id="share-edit-title">(click to add a title)</h2>
      </div>
      <div id="share-body">
        <img id="share-thumb"></img>
      </div>
      <button id="btn-share-submit">Share</button>
      <div id="share-message"></div>
    </div>
    <div id="main">
      <div id="main-view-game">
        <div id="game-controls-bar-top" class="game-controls-bar puzzleModeUI sandboxModeUI">
          <div id="camera-controls" class="game-control">
            <i class="control-element fa fa-lg fa-video-camera" title="Camera Controls"></i>
            <button class="control-icon-btn" id="camera-zoom-in" title="Zoom In Camera"><i class="fa fa-lg fa-search-plus"></i></button>
            <button class="control-icon-btn" id="camera-zoom-out" title="Zoom Out Camera"><i class="fa fa-lg fa-search-minus"></i></button>
            <button class="control-icon-btn camera-controls-rotate" id="camera-rotate-left" title="Rotate Camera Left"><i class="fa fa-lg fa-rotate-left"></i></button>
            <button class="control-icon-btn camera-controls-rotate" id="camera-rotate-right" title="Rotate Camera Right"><i class="fa fa-lg fa-rotate-right"></i></button>
            <button class="control-icon-btn camera-controls-tilt" id="camera-tilt-up" title="Tilt Camera Up"><i class="fa fa-lg fa-arrow-up"></i></button>
            <button class="control-icon-btn camera-controls-tilt" id="camera-tilt-down" title="Tilt Camera Down"><i class="fa fa-lg fa-arrow-down"></i></button>
          </div>
          <button id="btn-workshop" class="control-btn sandboxModeUI">Enter Workshop Mode</button>
        </div>
        <div id="unity-player"></div>
        <div id="game-controls-bar-bottom" class="game-controls-bar puzzleModeUI sandboxModeUI">
          <div id="speed-slider"></div>
          <div id="time-controls">
            <!-- <button id="btn-time-slider-back" class="control-btn btn-time-slider"><i class="fa fa-lg fa-arrow-circle-left"></i></button> -->
            <div id="time-slider"></div>
            <!-- <button id="btn-time-slider-forward" class="control-btn btn-time-slider"><i class="fa fa-lg fa-arrow-circle-right"></i></button> -->
          </div>
          <!--<p id="cube-counter" class="game-control">X</p>-->
        </div>
        <div id="code-entry" class="sandboxModeUI">
          <textarea id="code-entry-area"></textarea>
          <button id="btn-code-entry">Submit</button>
        </div>
      </div>
      <div id="dialog"></div>
      <div id="main-view-code" class="codeEditor">
        <div id="instructions-container">
          <div id="instructions-display">
            <div id="instructions-header">
              <img id="instructions-icon" src="media/dragon_icon.png">
              <p id="instructions-reminder"></p>
              <p id="instructions-goal"></p>
            </div>
            <p id="instructions-detail"></p>
            <button id="btn-instructions-hide" class="notTitle">Click to hide</button>
          </div>
        </div>
        <div id="code-area">
          <iframe id="blockly" src="frame.html"></iframe>
          <div id="game-control-bar-playback" class="puzzleModeUI sandboxModeUI">
            <button id="btn-run" class="game-control-btn-playback">X</button>
            <button id="btn-step" class="game-control-btn-playback">X</button>
            <button id="btn-pause" class="game-control-btn-playback">X</button>
          </div>
          <button id="btn-undo" style="display: none;">Undo</button>
          <p id="statement-counter"></p>
        </div>
      </div>
    </div>
    <img id="attention-arrow" src="media/arrow.png"/>
  </body>
</html>
